{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="container">
        <div class="mb-3">
            <form action="{% url 'information' %}" method="post">{% csrf_token %}
                <label for="link" class="form-label"><b>Enter Video URL</b></label>
                <input type="text" class="form-control" name="link" id="link" placeholder="YouTube video URL" required>
                <br><br>
                <button type="submit" class="form-control btn btn-danger" id="btn">Go To Download Page</button>
            </form>
        </div>
    </div>

    <div class="container w-25">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                <strong>{{ message }}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
    <p id="para_alert"></p>
    </div>

    <script type="text/javascript">
    let btn = document.getElementById('btn');
    let para = document.getElementById('para_alert');
    let link = document.getElementById('link')
        btn.addEventListener('click', function () {
            if (link.value !== '') {
                btn.innerHTML = '<button type="submit" class="btn btn-danger" type="submit" disabled><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Checking...</button>';
            }
            });

    </script>
{% endblock %}